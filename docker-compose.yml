services:
  pipeline:
    build: ./pipeline
    volumes:
      - ./data:/app/data:ro
      - ./kpis:/app/kpis
      - ./pipeline:/app
    # Run once to generate KPIs

  visual:
    build: ./visual
    ports: 
      - "3000:3000"
    volumes:
      - ./kpis:/app/kpis:ro
      - ./visual:/app
      - /app/node_modules
    environment:
      - CHOKIDAR_USEPOLLING=true
    # Read precomputed data and visualize
